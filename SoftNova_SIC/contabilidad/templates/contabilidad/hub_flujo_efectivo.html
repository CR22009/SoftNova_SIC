{% extends "base.html" %}

{% block title %}Selección Flujo de Efectivo - SoftNova SIC{% endblock %}

{% block page_title %}Estado de Flujo de Efectivo{% endblock %}

{% block content %}
<div class="p-6 md:p-10">
    
    <!-- Mensaje de bienvenida -->
    <div class="bg-white p-6 rounded-lg shadow-md mb-8">
        <h2 class="text-2xl font-semibold text-sic-dark-blue mb-3">Generar Reporte de Flujo de Efectivo</h2>
        <p class="text-gray-600">
            Por favor, seleccione el período contable para el cual desea generar el reporte. El sistema analizará las entradas y salidas de efectivo para ese período.
        </p>
    </div>

    <!-- Selector de Período -->
    <div class="bg-white p-6 rounded-lg shadow-md">
        
        <!-- Formulario de Selección -->
        <form method="POST" action="{% url 'contabilidad:hub_flujo_efectivo' %}" class="max-w-md mx-auto">
            {% csrf_token %}
            
            <div class="mb-6">
                <label for="periodo_id" class="block text-sm font-medium text-gray-700 mb-2">Período Contable:</label>
                
                {% if periodos %}
                <select id="periodo_id" name="periodo_id" class="w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-sic-dark-blue focus:border-sic-dark-blue transition duration-200">
                    <option value="">-- Seleccione un período --</option>
                    {% for periodo in periodos %}
                        <option value="{{ periodo.id }}">{{ periodo.nombre }} ({{ periodo.fecha_inicio|date:"d/m/Y" }} - {{ periodo.fecha_fin|date:"d/m/Y" }})</option>
                    {% endfor %}
                </select>
                {% else %}
                <p class="text-red-500">No hay períodos contables disponibles. Por favor, cree uno en el panel de administración.</p>
                {% endif %}
            </div>

            <!-- Botón de Envío -->
            <div class="text-center">
                <button type-="submit" 
                        class="w-full px-6 py-3 bg-sic-medium-blue text-white font-bold rounded-lg shadow-md hover:bg-sic-dark-blue focus:outline-none focus:ring-2 focus:ring-sic-dark-blue focus:ring-opacity-50 transition duration-300 ease-in-out transform hover:-translate-y-1"
                        {% if not periodos %}disabled{% endif %}>
                    Generar Reporte
                </button>
            </div>
        </form>
    </div>

</div>
{% endblock %}
